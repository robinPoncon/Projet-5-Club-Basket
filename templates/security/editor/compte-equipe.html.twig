{% extends "base.html.twig" %}

{% block title %} Administration des équipes {% endblock %}

{% block body %}
    {% include "security/compte.nav.html.twig" %}

    <h1> Gestion des équipes </h1>
    <div id="addTeam">
        <a href="{{ path("ajouterEquipe") }}">Ajouter une équipe + </a>
        <a href="{{ path("entrainement") }}">Gestion des entrainements</a>
    </div>

    <div class="d-flex justify-content-around position-relative bigBlocTeam">
        <ul class="blocTeam">
            <li class="typeTeam">Equipes garçons :</li>
            {% for equipe in equipes.findAll() %}
                {% if equipe.type == "garçons" %}
                    <li><ul class="d-flex justify-content-center compteTeam">
                        <li><a class="nameTeam" href="{{ path("equipe", {"slug":  equipe.slug , "type": equipe.type }) }}">
                                {{ equipe.name }}</a>
                        </li>
                        <li><a href="{{ path("modifierEquipe", {"slug": equipe.slug}) }}">Modifier</a></li>
                        <li><button onclick='deleteConfirm({{ equipe.id }}, "Voulez-vous vraiment supprimer cette equipe",
                                "{{ equipe.name }}", "{{ path("supprimerEquipe", {"id": "text"}) }}",
                                "#confirmationSupConvoc{{ equipe.id }}")'
                                    class="confirmSup">Supprimer</button></li>
                        <li class="confirmationSupTeam" id="confirmationSupConvoc{{ equipe.id }}">
                        </li>
                    </ul></li>
                {% endif %}
            {% endfor %}
        </ul>
        <ul class="blocTeam">
            <li class="typeTeam">Equipes filles :</li>
            {% for equipe in equipes.findAll() %}
                {% if equipe.type == "filles" %}
                    <li><ul class="d-flex justify-content-center compteTeam">
                        <li><a class="nameTeam" href="{{ path("equipe", {"slug":  equipe.slug , "type": equipe.type }) }}">
                                {{ equipe.name }}</a></li>
                        <li><a href="{{ path("modifierEquipe", {"slug": equipe.slug}) }}">Modifier</a></li>
                        <li><button onclick='deleteConfirm({{ equipe.id }}, "Voulez-vous vraiment supprimer cette equipe",
                                "{{ equipe.name }}", "{{ path("supprimerEquipe", {"id": "text"}) }}",
                                "#confirmationSupConvoc{{ equipe.id }}")'
                                class="confirmSup">Supprimer</button></li>
                        <li class="confirmationSupTeam" id="confirmationSupConvoc{{ equipe.id }}">
                        </li>
                    </ul></li>
                {% endif %}
            {% endfor %}
        </ul>
    </div>
        <ul class="blocTeam">
            <li class="typeTeam">Equipes loisir :</li>
            {% for equipe in equipes.findAll() %}
                {% if equipe.type == "loisir" %}
                    <li><ul class="d-flex justify-content-center compteTeam">
                        <li><a class="nameTeam" href="{{ path("equipe", {"slug":  equipe.slug , "type": equipe.type }) }}">
                                {{ equipe.name }}</a></li>
                        <li><a href="{{ path("modifierEquipe", {"slug": equipe.slug}) }}">Modifier</a></li>
                        <li><button onclick='deleteConfirm({{ equipe.id }}, "Voulez-vous vraiment supprimer cette equipe",
                                "{{ equipe.name }}", "{{ path("supprimerEquipe", {"id": "text"}) }}",
                                "#confirmationSupConvoc{{ equipe.id }}")'
                                class="confirmSup">Supprimer</button></li>
                        <li class="confirmationSupTeam" id="confirmationSupConvoc{{ equipe.id }}">
                        </li>
                    </ul></li>
                {% endif %}
            {% endfor %}
        </ul>

    <h2> Gestion des membres du club </h2>
    <div id="addTeam">
        <a href="{{ path("ajouterMembreClub") }}">Ajouter un membre + </a>
    </div>

    <ul class="blocTeam">
        <li class="typeTeam">Membres du bureau :</li>
        {% for member in memberClubs %}
            {% if member.fonctionClub is empty %}
                <li><ul class="d-flex justify-content-center compteTeam">
                        <li><a class="nameTeam" href="{{ path("pageMembre", {"id": member.id }) }}">
                                {{ member.name }} - {{ member.surname }}</a></li>
                        <li><a href="{{ path("modifierMembreClub", {"id": member.id}) }}">Modifier</a></li>
                        <li><button onclick='deleteConfirm({{ member.id }}, "Voulez-vous vraiment supprimer ce membre",
                                    "{{ member.name }} - {{ member.surname }}", "{{ path("supprimerMembreClub", {"id": "text"}) }}",
                                    "#confirmationSupConvoc{{ member.id }}")'
                                    class="confirmSup">Supprimer</button></li>
                        <li class="confirmationSupTeam" id="confirmationSupConvoc{{ member.id }}">
                        </li>
                    </ul></li>
            {% endif %}
        {% endfor %}
    </ul>

{% endblock %}